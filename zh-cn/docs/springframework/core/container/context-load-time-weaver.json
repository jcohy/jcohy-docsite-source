{
  "filename": "context-load-time-weaver.md",
  "__html": "<h1>Spring  Framework 中文文档</h1>\n<h3><a href=\"#context-load-time-weaver\"></a>1.14. 注册<code>LoadTimeWeaver</code></h3>\n<p><code>LoadTimeWeaver</code>被Spring用来在将类加载到Java虚拟机(JVM)中时动态地转换类</p>\n<p>若要开启加载时织入,要在<code>@Configuration</code>类中增加<code>@EnableLoadTimeWeaving</code>注解，如以下示例所示：</p>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-meta\">@EnableLoadTimeWeaving</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AppConfig</span> </span>{\n}\n</code></pre>\n<pre><code class=\"language-kotlin\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-meta\">@EnableLoadTimeWeaving</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AppConfig</span></span>\n</code></pre>\n<p>或者，对于XML配置，您可以使用<code>context:load-time-weaver</code> 元素:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">beans</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">context:load-time-weaver</span>/&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">beans</span>&gt;</span>\n</code></pre>\n<p>一旦配置为 <code>ApplicationContext</code>,该 <code>ApplicationContext</code>中的任何bean都可以实现<code>LoadTimeWeaverAware</code>,从而接收对load-time weaver实例的引用。 这特别适用于<a href=\"https://github.com/DocsHome/spring-docs/blob/master/pages/dataaccess/data-access.md#orm-jpa\">Spring的JPA支持</a>。其中JPA类转换可能需要加载时织入。 有关更多详细信息，请参阅<a href=\"https://docs.spring.io/spring-framework/docs/5.1.3.BUILD-SNAPSHOT/javadoc-api/org/springframework/orm/jpa/LocalContainerEntityManagerFactoryBean.html\"><code>LocalContainerEntityManagerFactoryBean</code></a>.。 有关AspectJ加载时编织的更多信息，请参阅<a href=\"#aop-aj-ltw\">Spring Framework中使用AspectJ的加载时织入</a>。</p>\n",
  "link": "\\zh-cn\\docs\\springframework\\core\\container\\context-load-time-weaver.html",
  "meta": {
    "title": "注册`LoadTimeWeaver`",
    "keywords": "keywords: docs，jcohy-docs，spring,注册`LoadTimeWeaver`",
    "description": "Spring  Framework 中文文档 》 注册`LoadTimeWeaver`"
  }
}