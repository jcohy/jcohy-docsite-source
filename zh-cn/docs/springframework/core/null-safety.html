<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="null-safety" />
	<meta name="description" content="null-safety" />
	<!-- 网页标签标题 -->
	<title>null-safety</title>
	<link rel="shortcut icon" href="/img/jcohy.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/jcohy_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/zh-cn/docs/Overview.html" target="_self">文档</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/open/index.html" target="_self">开源项目</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/resource/index.html" target="_self">资源</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/community/index.html" target="_self">社区</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>文档</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>概述</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/Overview.html" target="_self">概述</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Spring Framework</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/springframework/README.html" target="_self">说明</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/springframework/SUMMARY.html" target="_self">摘要</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/springframework/overview/overview.html" target="_self">概述</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>核心组件<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/overview.html" target="_self">全部章节一览</a></li><li class="menu-item menu-item-level-3"><a target="_self">IOC 容器</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/resources.html" target="_self">资源</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/validator.html" target="_self">验证, 数据绑定, 和类型转换</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/SpEL.html" target="_self">Spring 表达式语言 (SpEL)</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/aop.html" target="_self">使用Spring中面向切面编程</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/aop-api.html" target="_self">Spring AOP APIs</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/null-safety.html" target="_self">null 安全</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/databuffers.html" target="_self">数据缓冲区和编解码器</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/core/appendix.html" target="_self">附录</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>测试<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a target="_self"></a></li><li class="menu-item menu-item-level-3"><a target="_self"></a></li><li class="menu-item menu-item-level-3"><a target="_self"></a></li><li class="menu-item menu-item-level-3"><a target="_self"></a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Web Servlet<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/overview.html" target="_self">全部章节一览</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/mvc.html" target="_self">Spring Web MVC</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">REST 客户端</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/web/appendix.html" target="_self">附录</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Web Reactive框架<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a target="_self"></a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>集成<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/overview.html" target="_self">全部章节一览</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/remoting.html" target="_self">Spring的远程处理和Web服务</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/ejb.html" target="_self">企业级JavaBean(EJB) 集成</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/jms.html" target="_self"> JMS (Java 消息服务 )</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/jmx.html" target="_self">JMX</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/cci.html" target="_self">JCA CCI</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/mail.html" target="_self">电子邮件</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/scheduling.html" target="_self">执行任务和计划任务</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/cache.html" target="_self">缓存抽象</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/springframework/integration/appendix.html" target="_self">附录</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>语言<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a target="_self"></a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span>SpringBoot</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/springboot/demo.html" target="_self">SpringBoot</a></li></ul></li><li class="menu-item menu-item-level-1"><span>nginx</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/nginx/demo.html" target="_self">nginx</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Microservices</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/microservices/demo.html" target="_self">Microservices</a></li></ul></li></ul></div><div class="doc-content markdown-body"><p><a id="null-safety"></a></p>
<h2><a href="#null-safety"></a>7. null安全</h2>
<p>尽管Java不允许使用类型系统来表示null安全，但Spring框架现在加入了<code>org.springframework.lang</code> 包，并提供了以下注解，用来声明API和字段的null特性:</p>
<ul>
<li>
<p><a href="https://docs.spring.io/spring-framework/docs/5.1.3.BUILD-SNAPSHOT/javadoc-api/org/springframework/lang/NonNull.html"><code>@NonNull</code></a>: 注解指示特定参数，返回值或字段不能为<code>null</code>（对于<code>@NonNullApi</code>和<code>@NonNullFields</code> 适用的参数和返回值不需要）</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/docs/5.1.3.BUILD-SNAPSHOT/javadoc-api/org/springframework/lang/Nullable.html"><code>@Nullable</code></a>:其中特定参数、返回值或字段可以为<code>null</code>.</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/docs/5.1.3.BUILD-SNAPSHOT/javadoc-api/org/springframework/lang/NonNullApi.html"><code>@NonNullApi</code></a>: 在包级别将非null声明为参数和返回值的默认行为</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/docs/5.1.3.BUILD-SNAPSHOT/javadoc-api/org/springframework/lang/NonNullFields.html"><code>@NonNullFields</code></a>: 在包级别将非null声明为字段的默认行为</p>
</li>
</ul>
<p>Spring框架用到这些注解，但它们也可以用于任意基于Spring的Java项目中，用来声明null安全的API和可选的null安全字段。null特性对于泛型类型参数、varargs参数和数组元素是不受支持的， 但可能会包含在即将发布的版本中，请参阅<a href="https://jira.spring.io/browse/SPR-15942">SPR-15942</a>以获取最新信息。在Spring框架发行版（包括小版本）之间。可以将 fine-tuned 声明为null。在方法体内判定类型是否为null超出了它的能力范围。</p>
<p>像Reactor或者Spring Data这样的库也用到了null安全的API。</p>
<p><a id="use-cases"></a></p>
<h3><a href="#use-cases"></a>7.1. Use cases</h3>
<p>Spring API除了为null提供了显式的声明外，IDE还可以使用这些注解（如IDEA或Eclipse）为与null安全相关的Java开发人员提供有用的警告，用于避免运行时出现<code>NullPointerException</code>。</p>
<p>在Kotlin项目中也使用到Spring API的null安全特性，因为Kotlin本身支持<a href="https://kotlinlang.org/docs/reference/null-safety.html">null安全</a>。<a href="languages.html#kotlin-null-safety">Kotlin支持文档</a>提供了更多的详细信息。</p>
<p><a id="jsr-305-meta-annotations"></a></p>
<h3><a href="#jsr-305-meta-annotations"></a>7.2. JSR 305 元注解</h3>
<p>Spring注解是被<a href="https://jcp.org/en/jsr/detail?id=305">JSR 305</a>注解的元注解（一个潜在的但广泛使用的JSR）。 JSR 305元注解允许工具供应商（如IDEA或Kotlin）以通用方式提供安全支持，而无需为Spring注解提供硬编码支持。</p>
<p>为了使用Spring的null安全API，其实不需要也不建议在项目类路径中添加JSR 305依赖项。而只有在其代码库中使用null安全标识的项目（例如Spring基本库） 即可，应该将<code>com.google.code.findbugs:jsr305:3.0.2</code> 添加到仅用于编译的Gradle配置或Maven提供的scope中，就可以避免编译警告了。</p>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/jcohy.png"/><div class="cols-container"><div class="col col-12"><p>jia_chao23@126.com</p><p>https://www.github.com/jiachao23</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/springframework/demo.html" target="_self">Spring Framework</a></dd><dd><a href="/zh-cn/docs/springboot/demo.html" target="_self">SpringBoot</a></dd><dd><a href="/zh-cn/docs/microservices/demo.html" target="_self">Microservices</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/blog/index.html" target="_self">博客</a></dd><dd><a href="/zh-cn/open/index.html" target="_self">开源项目</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2019 www.jcohy.com</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>
